import{c as x,r as i,j as e,C as f,n as v,w as p,o as C,e as g,B as n,X as k,a as z}from"./index-71EdIMDT.js";import{S}from"./scroll-area-zNbI3kKV.js";import{T as $}from"./trash-2-CKXb38Nv.js";/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],L=x("copy",T);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],M=x("maximize-2",D);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],_=x("minimize-2",E),u=i.memo(({entry:s,index:c})=>{const m=l=>{switch(l){case"error":return"text-red-400 border-red-500/20 bg-red-500/10";case"warn":return"text-yellow-400 border-yellow-500/20 bg-yellow-500/10";case"info":return"text-blue-400 border-blue-500/20 bg-blue-500/10";case"success":return"text-green-400 border-green-500/20 bg-green-500/10";case"debug":return"text-gray-400 border-gray-500/20 bg-gray-500/10";default:return"text-white border-gray-500/20 bg-gray-500/10"}},h=l=>new Date(l).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3});return e.jsxs("div",{className:`p-2 mb-1 rounded border ${m(s.level)} font-mono text-xs`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{variant:"outline",className:"text-xs px-1 py-0",children:s.level.toUpperCase()}),e.jsx("span",{className:"text-gray-500",children:h(s.timestamp)}),s.context&&e.jsxs("span",{className:"text-purple-400",children:["[",s.context,"]"]})]}),e.jsxs("span",{className:"text-gray-500",children:["#",c+1]})]}),e.jsx("div",{className:"whitespace-pre-wrap break-words",children:s.message}),s.data&&e.jsxs("details",{className:"mt-1",children:[e.jsx("summary",{className:"cursor-pointer text-gray-400 hover:text-white",children:"Show data"}),e.jsx("pre",{className:"mt-1 p-2 bg-black/30 rounded text-xs overflow-auto",children:JSON.stringify(s.data,null,2)})]})]})});u.displayName="LogEntry";const R=i.memo(({logs:s,onClear:c,isOpen:m,onToggle:h,onClose:l})=>{const[a,y]=i.useState(!1),j=i.useRef(null),d=i.useRef(null),N=async()=>{const o=s.map(t=>{const r=new Date(t.timestamp).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3}),w=t.context?`[${t.context}] `:"",b=t.data?`
Data: ${JSON.stringify(t.data,null,2)}`:"";return`[${t.level.toUpperCase()}] ${r} ${w}${t.message}${b}`}).join(`

`);try{await navigator.clipboard.writeText(o)}catch{const r=document.createElement("textarea");r.value=o,document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r)}};return i.useEffect(()=>{d.current&&!a&&d.current.scrollIntoView({behavior:"smooth"})},[s.length,a]),m?e.jsx("div",{className:"fixed bottom-4 right-4 z-50 w-80 max-w-[45vw]",children:e.jsxs(f,{className:"bg-gray-900/98 border-gray-700 shadow-2xl backdrop-blur-sm",children:[e.jsx(v,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"w-4 h-4 text-green-400"}),e.jsx(C,{className:"text-sm text-green-400",children:"Console Logs"}),e.jsx(g,{variant:"secondary",className:"text-xs",children:s.length})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(n,{size:"sm",variant:"ghost",onClick:N,className:"w-6 h-6 p-0 text-blue-400 hover:text-blue-300",title:"Copy logs to clipboard",children:e.jsx(L,{className:"w-3 h-3"})}),e.jsx(n,{size:"sm",variant:"ghost",onClick:c,className:"w-6 h-6 p-0 text-yellow-400 hover:text-yellow-300",title:"Clear logs",children:e.jsx($,{className:"w-3 h-3"})}),e.jsx(n,{size:"sm",variant:"ghost",onClick:()=>y(!a),className:"w-6 h-6 p-0",title:a?"Maximize":"Minimize",children:a?e.jsx(M,{className:"w-3 h-3"}):e.jsx(_,{className:"w-3 h-3"})}),e.jsx(n,{size:"sm",variant:"ghost",onClick:l,className:"w-6 h-6 p-0 text-red-400 hover:text-red-300",title:"Close console",children:e.jsx(k,{className:"w-3 h-3"})})]})]})}),!a&&e.jsx(z,{className:"p-0",children:e.jsx(S,{ref:j,className:"h-60 p-2",children:s.length===0?e.jsxs("div",{className:"text-center text-gray-500 py-8",children:[e.jsx(p,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No console logs yet"}),e.jsx("p",{className:"text-xs",children:"Upload a file to see logs"})]}):e.jsxs(e.Fragment,{children:[s.map((o,t)=>e.jsx(u,{entry:o,index:t},`${o.timestamp}-${t}`)),e.jsx("div",{ref:d})]})})})]})}):null});R.displayName="ConsoleDrawer";export{R as ConsoleDrawer};

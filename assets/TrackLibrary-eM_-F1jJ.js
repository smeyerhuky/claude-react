import{c as p,r as n,j as e,C as u,a as f,B as y,T as b,b as j,d,e as v,f as N,g as m}from"./index-71EdIMDT.js";import{S as T}from"./scroll-area-zNbI3kKV.js";import{S as C}from"./square-Cji9AMcn.js";import{M as w}from"./music-ws1k2LgB.js";/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],A=p("hash",k),h=n.memo(({track:a,onDoubleClick:c,onDragStart:i,onStop:r})=>{const l=n.useCallback(t=>{t.dataTransfer.setData("trackId",a.id),i==null||i(a.id)},[a.id,i]),g=t=>{const s=Math.floor(t/60),o=Math.floor(t%60);return`${s}:${o.toString().padStart(2,"0")}`},x=t=>{switch(t){case m.MAJOR:return"bg-gradient-to-r from-red-500 to-pink-500";case m.FILLER:return"bg-gradient-to-r from-teal-500 to-cyan-500";case m.SAMPLE:return"bg-gradient-to-r from-yellow-500 to-pink-400";case m.EFFECT:return"bg-gradient-to-r from-purple-500 to-indigo-500";default:return"bg-gray-500"}};return e.jsxs("div",{draggable:!0,onDragStart:l,onDoubleClick:()=>c==null?void 0:c(a.id),className:"p-4 bg-gray-800/50 hover:bg-gray-700/50 rounded-lg border border-gray-700 hover:border-purple-500 transition-all cursor-grab active:cursor-grabbing hover:translate-x-1 group relative",children:[e.jsx("button",{onClick:t=>{t.stopPropagation(),r==null||r(a.id)},className:"absolute top-2 right-2 w-6 h-6 bg-red-500 hover:bg-red-600 rounded text-white opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",title:"Stop playback",children:e.jsx(C,{className:"w-3 h-3"})}),e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-semibold text-green-400 truncate flex-1 pr-8",children:a.name}),e.jsx(v,{className:`${x(a.type)} text-white text-xs ml-2`,children:a.type.toUpperCase()})]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(w,{className:"w-3 h-3"}),a.artist]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(A,{className:"w-3 h-3"}),a.tempo," BPM"]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mt-1",children:[e.jsx("span",{children:a.key}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(N,{className:"w-3 h-3"}),g(a.duration)]})]})]})});h.displayName="TrackItem";const L=n.memo(({tracks:a,onTrackDoubleClick:c,onTrackStop:i,onFileUpload:r})=>{const[l,g]=n.useState("all"),x=n.useCallback(s=>{const o=Array.from(s.target.files);o.length>0&&r&&r(o),s.target.value=""},[r]),t=Array.from(a.values()).filter(s=>l==="all"||s.type===l);return e.jsx(u,{className:"h-full bg-gray-900/95 border-gray-700",children:e.jsxs(f,{className:"p-0 h-full flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-green-400",children:"Track Library"}),e.jsxs("label",{htmlFor:"file-upload",children:[e.jsx(y,{size:"sm",className:"bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-black font-bold",asChild:!0,children:e.jsx("span",{children:"âž• Add Tracks"})}),e.jsx("input",{id:"file-upload",type:"file",accept:"audio/*",multiple:!0,onChange:x,className:"hidden"})]})]}),e.jsx(b,{value:l,onValueChange:g,children:e.jsxs(j,{className:"grid grid-cols-2 lg:grid-cols-4 bg-gray-800",children:[e.jsx(d,{value:"all",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-600 data-[state=active]:to-indigo-600",children:"All"}),e.jsx(d,{value:"major",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-600 data-[state=active]:to-indigo-600",children:"Major"}),e.jsx(d,{value:"filler",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-600 data-[state=active]:to-indigo-600",children:"Filler"}),e.jsx(d,{value:"sample",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-600 data-[state=active]:to-indigo-600",children:"Sample"})]})})]}),e.jsx(T,{className:"flex-1 p-4",children:t.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ðŸŽµ"}),e.jsxs("p",{children:["No ",l==="all"?"":l," tracks found"]}),e.jsx("p",{className:"text-sm mt-2",children:"Drop audio files to get started!"})]}):e.jsx("div",{className:"space-y-2",children:t.map(s=>e.jsx(h,{track:s,onDoubleClick:c,onStop:i,onDragStart:()=>{}},s.id))})})]})})});L.displayName="TrackLibrary";export{L as TrackLibrary};

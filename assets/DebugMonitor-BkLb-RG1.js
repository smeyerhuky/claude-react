import{c as j,r as l,j as e,f as b,p as M,q as S,d as w,g as k,T,a as I,b as x,t as u,u as P,A as C}from"./index-DQg0MlWK.js";import{P as L}from"./progress-BV7peBjM.js";/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],h=j("hard-drive",z);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],E=j("volume-2",A),c=l.memo(({icon:n,label:m,value:a,unit:p="",color:t="text-green-400"})=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-black/30 rounded-lg border border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{className:`w-4 h-4 ${t}`}),e.jsx("span",{className:"text-sm text-gray-400",children:m})]}),e.jsxs("span",{className:`font-mono font-bold ${t}`,children:[a,p]})]}));c.displayName="MetricItem";const D=l.memo(({isPlaying:n,currentTime:m,chain:a,audioEngine:p,getMeterValue:t})=>{const[r,y]=l.useState({cpu:0,memory:0,latency:0,bufferSize:0}),[f,N]=l.useState({});l.useEffect(()=>{const d=setInterval(()=>{y({cpu:Math.random()*30+10,memory:Math.random()*200+100,latency:Math.random()*5+3,bufferSize:512});const i={};a.forEach(o=>{const v=t?t(o.id):Math.random();i[o.chainId]=v}),N(i)},100);return()=>clearInterval(d)},[a,t]);const g=s=>{const d=Math.floor(s/60),i=Math.floor(s%60),o=Math.floor(s%1*1e3);return`${d.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}.${o.toString().padStart(3,"0")}`};return e.jsxs(b,{className:"bg-gray-900/95 border-gray-700",children:[e.jsx(M,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(S,{className:"text-purple-400",children:"Debug Monitor"}),e.jsx(w,{variant:n?"default":"secondary",className:"animate-pulse",children:n?"PLAYING":"STOPPED"})]})}),e.jsx(k,{children:e.jsxs(T,{defaultValue:"performance",className:"w-full",children:[e.jsxs(I,{className:"grid w-full grid-cols-3 bg-gray-800",children:[e.jsx(x,{value:"performance",children:"Performance"}),e.jsx(x,{value:"tracks",children:"Tracks"}),e.jsx(x,{value:"transport",children:"Transport"})]}),e.jsxs(u,{value:"performance",className:"space-y-3 mt-4",children:[e.jsx(c,{icon:P,label:"CPU Usage",value:r.cpu.toFixed(1),unit:"%",color:r.cpu>30?"text-yellow-400":"text-green-400"}),e.jsx(c,{icon:h,label:"Memory",value:r.memory.toFixed(0),unit:"MB"}),e.jsx(c,{icon:C,label:"Latency",value:r.latency.toFixed(1),unit:"ms",color:r.latency>6?"text-yellow-400":"text-green-400"}),e.jsx(c,{icon:h,label:"Buffer Size",value:r.bufferSize,unit:" samples"})]}),e.jsx(u,{value:"tracks",className:"space-y-3 mt-4",children:a.length===0?e.jsx("p",{className:"text-center text-gray-500 py-4",children:"No tracks loaded"}):a.map(s=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium truncate flex-1",children:s.name}),e.jsx(E,{className:"w-4 h-4 text-gray-400"})]}),e.jsx(L,{value:(f[s.chainId]||0)*100,className:"h-2"})]},s.chainId))}),e.jsx(u,{value:"transport",className:"space-y-3 mt-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Position"}),e.jsx("span",{className:"font-mono text-green-400",children:g(m)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"State"}),e.jsx("span",{className:"font-mono text-green-400",children:n?"PLAYING":"STOPPED"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"BPM"}),e.jsx("span",{className:"font-mono text-green-400",children:"128"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Sample Rate"}),e.jsx("span",{className:"font-mono text-green-400",children:"48000 Hz"})]})]})})]})})]})});D.displayName="DebugMonitor";export{D as DebugMonitor};

import{c as i,r as x,j as e,B as s,s as $,t as _,P as M,u as F,D as S}from"./index-Q_fJBb9y.js";import{P as I}from"./progress-CHqDfEwG.js";import{S as T}from"./square-B1XobU0_.js";/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["polygon",{points:"13 19 22 12 13 5 13 19",key:"587y9g"}],["polygon",{points:"2 19 11 12 2 5 2 19",key:"3pweh0"}]],B=i("fast-forward",R);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["polygon",{points:"11 19 2 12 11 5 11 19",key:"14yba5"}],["polygon",{points:"22 19 13 12 22 5 22 19",key:"1pi1cj"}]],q=i("rewind",E);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],H=i("rotate-ccw",G);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],V=i("save",L),U=x.memo(({isPlaying:h,currentTime:d,totalDuration:r,onPlay:p,onStop:v,onPreview:j,onExportChain:b,onRenderMix:N,onSeek:n,onNextTrack:u,onPrevTrack:y,chain:a=[]})=>{var g;const[A,J]=x.useState(!1),c=t=>{const o=Math.floor(t/60),m=Math.floor(t%60);return`${o.toString().padStart(2,"0")}:${m.toString().padStart(2,"0")}`};x.useCallback(t=>{const o=t[0]/100*r;n==null||n(o)},[r,n]);const w=r>0?d/r*100:0,l=a.findIndex(t=>!0),f=l<a.length-1,k=l>0;return e.jsxs("div",{className:"bg-gray-900/95 border-t border-gray-700 p-3",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400 mb-1",children:[e.jsx("span",{children:c(d)}),e.jsx("span",{className:"text-purple-400",children:"Chain Progress"}),e.jsx("span",{children:c(r)})]}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{value:w,className:"h-2 bg-gray-800"}),a.length>0&&e.jsx("div",{className:"absolute top-0 left-0 right-0 h-2 pointer-events-none",children:a.map((t,o)=>{const m=a.slice(0,o).reduce((z,P)=>z+P.duration,0),C=r>0?m/r*100:0;return e.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-cyan-400 opacity-70",style:{left:`${C}%`},title:`Track ${o+1}: ${t.name}`},t.chainId)})})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(s,{size:"sm",variant:"outline",onClick:y,disabled:!k,className:"hover:bg-blue-600 hover:border-blue-600",children:e.jsx($,{className:"w-3 h-3"})}),e.jsx(s,{size:"sm",variant:"outline",className:"hover:bg-gray-600",children:e.jsx(q,{className:"w-3 h-3"})}),e.jsx(s,{size:"sm",onClick:p,className:`px-4 ${h?"bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-black":"bg-gray-700 hover:bg-gray-600"}`,children:h?e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"w-4 h-4 mr-1"})," Pause"]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-4 h-4 mr-1"})," Play"]})}),e.jsx(s,{size:"sm",variant:"outline",onClick:v,className:"hover:bg-red-600 hover:border-red-600",children:e.jsx(T,{className:"w-3 h-3"})}),e.jsx(s,{size:"sm",variant:"outline",className:"hover:bg-gray-600",children:e.jsx(B,{className:"w-3 h-3"})}),e.jsx(s,{size:"sm",variant:"outline",onClick:u,disabled:!f,className:"hover:bg-blue-600 hover:border-blue-600",children:e.jsx(F,{className:"w-3 h-3"})})]}),e.jsxs("div",{className:"font-mono text-sm text-green-400 bg-black/60 px-3 py-1 rounded border border-green-400/30 min-w-[100px] text-center",children:[c(d)," / ",c(r)]}),e.jsx("div",{className:"text-xs text-gray-400 min-w-[80px] text-center",children:a.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["Track ",l+1," / ",a.length]}),e.jsx("div",{className:"text-purple-400",children:((g=a[l])==null?void 0:g.name)||"Unknown"})]}):e.jsx("div",{children:"No tracks"})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs(s,{size:"sm",onClick:j,variant:"outline",className:"hover:bg-blue-600 hover:border-blue-600",children:[e.jsx(H,{className:"w-3 h-3 mr-1"})," Preview"]}),e.jsxs(s,{size:"sm",onClick:b,className:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700",children:[e.jsx(S,{className:"w-3 h-3 mr-1"})," Export"]}),e.jsxs(s,{size:"sm",onClick:N,className:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700",children:[e.jsx(V,{className:"w-3 h-3 mr-1"})," Render"]})]})]})]})});U.displayName="TransportControls";export{U as TransportControls};

import{c as g,r as c,j as e,E as m,d as h,B as i,f as z,p as $,q as S,X as T,g as L}from"./index-Q_fJBb9y.js";import{S as f}from"./scroll-area-DqFvZM6D.js";import{T as b}from"./trash-2-GcKB1csV.js";/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],w=g("copy",D);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],M=g("maximize-2",E);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],_=g("minimize-2",U),p=c.memo(({entry:s,index:o})=>{const d=n=>{switch(n){case"error":return"text-red-400 border-red-500/20 bg-red-500/10";case"warn":return"text-yellow-400 border-yellow-500/20 bg-yellow-500/10";case"info":return"text-blue-400 border-blue-500/20 bg-blue-500/10";case"success":return"text-green-400 border-green-500/20 bg-green-500/10";case"debug":return"text-gray-400 border-gray-500/20 bg-gray-500/10";default:return"text-white border-gray-500/20 bg-gray-500/10"}},j=n=>new Date(n).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3});return e.jsxs("div",{className:`p-2 mb-1 rounded border ${d(s.level)} font-mono text-xs`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{variant:"outline",className:"text-xs px-1 py-0",children:s.level.toUpperCase()}),e.jsx("span",{className:"text-gray-500",children:j(s.timestamp)}),s.context&&e.jsxs("span",{className:"text-purple-400",children:["[",s.context,"]"]})]}),e.jsxs("span",{className:"text-gray-500",children:["#",o+1]})]}),e.jsx("div",{className:"whitespace-pre-wrap break-words",children:s.message}),s.data&&e.jsxs("details",{className:"mt-1",children:[e.jsx("summary",{className:"cursor-pointer text-gray-400 hover:text-white",children:"Show data"}),e.jsx("pre",{className:"mt-1 p-2 bg-black/30 rounded text-xs overflow-auto",children:JSON.stringify(s.data,null,2)})]})]})});p.displayName="LogEntry";const R=c.memo(({logs:s,onClear:o,isOpen:d,onToggle:j,onClose:n,embedded:u=!1})=>{const[l,v]=c.useState(!1),y=c.useRef(null),x=c.useRef(null),N=async()=>{const a=s.map(t=>{const r=new Date(t.timestamp).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3}),C=t.context?`[${t.context}] `:"",k=t.data?`
Data: ${JSON.stringify(t.data,null,2)}`:"";return`[${t.level.toUpperCase()}] ${r} ${C}${t.message}${k}`}).join(`

`);try{await navigator.clipboard.writeText(a)}catch{const r=document.createElement("textarea");r.value=a,document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r)}};return c.useEffect(()=>{x.current&&!l&&x.current.scrollIntoView({behavior:"smooth"})},[s.length,l]),!d&&!u?null:u?e.jsxs("div",{className:"h-full flex flex-col bg-gray-900/50 rounded-lg border border-gray-700",children:[e.jsx("div",{className:"p-3 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-sm font-medium text-green-400",children:"Console Logs"}),e.jsx(h,{variant:"secondary",className:"text-xs",children:s.length})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(i,{size:"sm",variant:"ghost",onClick:N,className:"w-6 h-6 p-0 text-blue-400 hover:text-blue-300",title:"Copy logs to clipboard",children:e.jsx(w,{className:"w-3 h-3"})}),e.jsx(i,{size:"sm",variant:"ghost",onClick:o,className:"w-6 h-6 p-0 text-yellow-400 hover:text-yellow-300",title:"Clear logs",children:e.jsx(b,{className:"w-3 h-3"})})]})]})}),e.jsx("div",{className:"flex-1 min-h-0",children:e.jsx(f,{ref:y,className:"h-full p-2",children:s.length===0?e.jsxs("div",{className:"text-center text-gray-500 py-8",children:[e.jsx(m,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No console logs yet"}),e.jsx("p",{className:"text-xs",children:"Upload a file to see logs"})]}):e.jsxs(e.Fragment,{children:[s.map((a,t)=>e.jsx(p,{entry:a,index:t},`${a.timestamp}-${t}`)),e.jsx("div",{ref:x})]})})})]}):e.jsx("div",{className:"fixed bottom-4 right-4 z-50 w-80 max-w-[45vw]",children:e.jsxs(z,{className:"bg-gray-900/98 border-gray-700 shadow-2xl backdrop-blur-sm",children:[e.jsx($,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"w-4 h-4 text-green-400"}),e.jsx(S,{className:"text-sm text-green-400",children:"Console Logs"}),e.jsx(h,{variant:"secondary",className:"text-xs",children:s.length})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(i,{size:"sm",variant:"ghost",onClick:N,className:"w-6 h-6 p-0 text-blue-400 hover:text-blue-300",title:"Copy logs to clipboard",children:e.jsx(w,{className:"w-3 h-3"})}),e.jsx(i,{size:"sm",variant:"ghost",onClick:o,className:"w-6 h-6 p-0 text-yellow-400 hover:text-yellow-300",title:"Clear logs",children:e.jsx(b,{className:"w-3 h-3"})}),e.jsx(i,{size:"sm",variant:"ghost",onClick:()=>v(!l),className:"w-6 h-6 p-0",title:l?"Maximize":"Minimize",children:l?e.jsx(M,{className:"w-3 h-3"}):e.jsx(_,{className:"w-3 h-3"})}),e.jsx(i,{size:"sm",variant:"ghost",onClick:n,className:"w-6 h-6 p-0 text-red-400 hover:text-red-300",title:"Close console",children:e.jsx(T,{className:"w-3 h-3"})})]})]})}),!l&&e.jsx(L,{className:"p-0",children:e.jsx(f,{ref:y,className:"h-60 p-2",children:s.length===0?e.jsxs("div",{className:"text-center text-gray-500 py-8",children:[e.jsx(m,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No console logs yet"}),e.jsx("p",{className:"text-xs",children:"Upload a file to see logs"})]}):e.jsxs(e.Fragment,{children:[s.map((a,t)=>e.jsx(p,{entry:a,index:t},`${a.timestamp}-${t}`)),e.jsx("div",{ref:x})]})})})]})})});R.displayName="ConsoleDrawer";export{R as ConsoleDrawer};

import{c as u,r as d,j as e,B as f,T as y,a as h,b as o,d as b,M as j,C as v,e as x}from"./index-CnS6aNVp.js";import"./scroll-area-RueaxV8_.js";import{S as N}from"./square-rfkFAqIK.js";/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],T=u("hash",w),p=d.memo(({track:a,onDoubleClick:c,onDragStart:i,onStop:r})=>{const l=d.useCallback(t=>{t.dataTransfer.setData("trackId",a.id),i==null||i(a.id)},[a.id,i]),m=t=>{const s=Math.floor(t/60),n=Math.floor(t%60);return`${s}:${n.toString().padStart(2,"0")}`},g=t=>{switch(t){case x.MAJOR:return"bg-gradient-to-r from-red-500 to-pink-500";case x.FILLER:return"bg-gradient-to-r from-teal-500 to-cyan-500";case x.SAMPLE:return"bg-gradient-to-r from-yellow-500 to-pink-400";case x.EFFECT:return"bg-gradient-to-r from-purple-500 to-indigo-500";default:return"bg-gray-500"}};return e.jsxs("div",{draggable:!0,onDragStart:l,onDoubleClick:()=>c==null?void 0:c(a.id),className:"p-4 bg-gray-800/50 hover:bg-gray-700/50 rounded-lg border border-gray-700 hover:border-purple-500 transition-all cursor-grab active:cursor-grabbing hover:translate-x-1 group relative",children:[e.jsx("button",{onClick:t=>{t.stopPropagation(),r==null||r(a.id)},className:"absolute top-2 right-2 w-6 h-6 bg-red-500 hover:bg-red-600 rounded text-white opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",title:"Stop playback",children:e.jsx(N,{className:"w-3 h-3"})}),e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-semibold text-green-400 truncate flex-1 pr-8",children:a.name}),e.jsx(b,{className:`${g(a.type)} text-white text-xs ml-2`,children:a.type.toUpperCase()})]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(j,{className:"w-3 h-3"}),a.artist]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"w-3 h-3"}),a.tempo," BPM"]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mt-1",children:[e.jsx("span",{children:a.key}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(v,{className:"w-3 h-3"}),m(a.duration)]})]})]})});p.displayName="TrackItem";const C=d.memo(({tracks:a,onTrackDoubleClick:c,onTrackStop:i,onFileUpload:r})=>{const[l,m]=d.useState("all"),g=d.useCallback(s=>{const n=Array.from(s.target.files);n.length>0&&r&&r(n),s.target.value=""},[r]),t=Array.from(a.values()).filter(s=>l==="all"||s.type===l);return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"p-3 border-b border-gray-700 flex-shrink-0",children:[e.jsx("div",{className:"mb-3",children:e.jsxs("label",{htmlFor:"file-upload",children:[e.jsx(f,{size:"sm",className:"w-full bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-black font-bold",asChild:!0,children:e.jsx("span",{children:"âž• Add Tracks"})}),e.jsx("input",{id:"file-upload",type:"file",accept:"audio/*",multiple:!0,onChange:g,className:"hidden"})]})}),e.jsxs(y,{value:l,onValueChange:m,children:[e.jsxs(h,{className:"grid grid-cols-2 bg-gray-800 w-full",children:[e.jsx(o,{value:"all",className:"text-xs data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-600 data-[state=active]:to-indigo-600",children:"All"}),e.jsx(o,{value:"major",className:"text-xs data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-600 data-[state=active]:to-indigo-600",children:"Major"})]}),e.jsxs(h,{className:"grid grid-cols-2 bg-gray-800 w-full mt-1",children:[e.jsx(o,{value:"filler",className:"text-xs data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-600 data-[state=active]:to-indigo-600",children:"Filler"}),e.jsx(o,{value:"sample",className:"text-xs data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-600 data-[state=active]:to-indigo-600",children:"Sample"})]})]})]}),e.jsx("div",{className:"flex-1 p-3 overflow-y-auto",children:t.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("div",{className:"text-3xl mb-3",children:"ðŸŽµ"}),e.jsxs("p",{className:"text-sm",children:["No ",l==="all"?"":l," tracks found"]}),e.jsx("p",{className:"text-xs mt-1",children:"Click Add Tracks to get started!"})]}):e.jsx("div",{className:"space-y-2",children:t.map(s=>e.jsx(p,{track:s,onDoubleClick:c,onStop:i,onDragStart:()=>{}},s.id))})})]})});C.displayName="TrackLibrary";export{C as TrackLibrary};
